{% set app_name="[TBD]" %}
{% set cachebreaker = 10 %}

<!doctype html>
<head>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto"></link>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik"></link>
	<link rel="stylesheet" href="{{ url_for('static', filename='css/_animation.css', v=cachebreaker) }}"></link>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/_fonts.css', v=cachebreaker) }}"></link>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css', v=cachebreaker) }}"></link>
  <script type='application/javascript' src="{{ url_for('static', filename='js/lib/jquery.min.js') }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/lib/modernizr.custom.js') }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/lib/masonry.pkgd.min.js') }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/lib/imagesloaded.js') }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/lib/classie.js') }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/_anim_on_scroll.js', v=cachebreaker) }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/_overlay.js', v=cachebreaker) }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/_scroll.js', v=cachebreaker) }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/_spinner.js', v=cachebreaker) }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/_app_panel.js', v=cachebreaker) }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/_user_panel.js', v=cachebreaker) }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/_url_params.js', v=cachebreaker) }}"></script>
  <script type='application/javascript' src="{{ url_for('static', filename='js/application.js', v=cachebreaker) }}"></script>
  
  {% block scripts %}{% endblock %}
</head>
<title>{% block title %}{{ app_name }}{% endblock %}</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <div class='app_background'>
  </div>
  <div id='app_panel_overlay'>
    <a class='nav_link_get button_close' onclick="Application.overlayClose()">X</a>
    <div id='app_panel_overlay_main' class='box_outline'></div>
    <div id='app_panel_blocker'></div>
  </div>
  <header class='app_header box_outline'>
    <a class="left app_menu toggle_app_panel"></a>
    <a class='app_title nav_link_get' href="{{ url_for('events') }}">
      {% block header %}{{ app_name }}{% endblock %}
    </a>
    <div class='app_login'>
      {% if session.user %}
        <a class="right toggle_user_panel">
          {% if session.user.image_url %}
            <img class="user_profile_img" src="{{ session.user.image_url }}"></img>
          {% else %}
            <img class="user_profile_img_placeholder"></img>
          {% endif %}
        </a>
      {% else %}
        <a class="right user_profile_img profile_img_placeholder" href="{{ url_for('login') }}"></a>
      {% endif %}
    </div>
  </header>
  <section class="content">
    {% include "panels/_app_panel.html" %}
    {% if session.user %}{% include "panels/_user_panel.html" %}{% endif %}
    <div id='main'>{% block content %}{% endblock %}</div>
    <div id='main_spinner'>{% include "_spinner.html" %}</div>
    <div id='scroll_top' class='round_button box_outline'>{% include "icon/_up.html" %}</div>
  </section>
</meta>

<script>
  Application.init({
    'urls': {
      'auth': "{{ url_for('login') }}",
      'explore': "{{ url_for('events') }}"
    }
  });
</script>